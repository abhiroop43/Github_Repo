<div layout="row" layout-sm="column" layout-align="space-around" ng-hide="regionsCtrl.allRegionsPromise.$$state.status > 0">
    <md-progress-circular md-mode="indeterminate"></md-progress-circular>
</div>

<div layout="column" class="md-inline-form" ng-show="regionsCtrl.allRegionsPromise.$$state.status > 0">
    
    <md-content layout-padding>
        <div>

            <form>
                <div class="form-group">
                    <md-input-container class="md-block" flex-gt-sm>
                        <label>Search Regions</label>
                        <input ng-model="searchRegion">
                    </md-input-container>
                </div>
            </form>
            <div class="pull-left"><md-button ng-click="$state.go('new-region')" class="md-raised md-primary">Create New Region</md-button></div>
            <table class="table table-striped table-hover">
                <thead>
                <tr>
                    <th>
                        <a href="#" ng-click="sortType = 'Abrv'; sortReverse = !sortReverse">
                            Abbreviation<span ng-show="sortType == 'Abrv' && !sortReverse" class="fa fa-caret-down"></span>
                            <span ng-show="sortType == 'Abrv' && sortReverse" class="fa fa-caret-up"></span>
                        </a>
                    </th>
                    <th>
                        <a href="#" ng-click="sortType = 'Name'; sortReverse = !sortReverse">
                            Name<span ng-show="sortType == 'Name' && !sortReverse" class="fa fa-caret-down"></span>
                            <span ng-show="sortType == 'Name' && sortReverse" class="fa fa-caret-up"></span>
                        </a>
                    </th>
                    <th>
                        <a href="#" ng-click="sortType = 'RecTimeStamp'; sortReverse = !sortReverse">
                            Timestamp<span ng-show="sortType == 'RecTimeStamp' && !sortReverse" class="fa fa-caret-down"></span>
                            <span ng-show="sortType == 'RecTimeStamp' && sortReverse" class="fa fa-caret-up"></span>
                        </a>
                    </th>
                    <th>
                    </th>
                </tr>
                </thead>
               
                <tbody>
                <tr ng-repeat="item in regionsCtrl.regions | orderBy:sortType:sortReverse | filter:searchRegion">
                    <td>{{item.Abrv}}</td>
                    <td>{{item.Name}}</td>
                    <td>{{item.RecTimeStamp | date:'medium'}}</td>
                    <!--<td><a ui-sref="edit-regions.id({ id: item.RegionId })" ui-sref-opts="{reload: true}">Edit</a></td>-->
                    <!--<td><a href="/edit-regions?id={{item.RegionId}}">Edit</a></td>-->
                    <td><a ui-sref="edit-regions({ id: item.RegionId })">Edit</a></td>
                </tr>
                </tbody>
            </table>
        </div>
    </md-content>
</div>